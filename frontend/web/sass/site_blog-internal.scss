@import 'vendor/bootstrap/variables';
@import 'compass';
@import 'vars';

.Site_blog {
    position: relative;

    @media (min-width: $screen-lg-min) {
        margin-left: auto;
        margin-right: auto;
        position: static;
        width: $screen-lg-min;
    }

    .container {
        @media (min-width: $screen-sm-min) {
            width: auto;
        }
    }

    .b-bg-top {
        left: 0;
        overflow: hidden;
        position: absolute;
        right: 0;
        top: 0;
        z-index: -1;

        @media (min-width: $screen-md-min) {
            display: block;
            right: 32%;
        }

        @media (min-width: $screen-lg-min) {
            right: 0;
        }

        &__img {
            background-color: map-get($color, bg);
            @include box-sizing(content-box);
            height: map-get($css, line-height) * 3;
            left: -5%;
            margin-top: -5%;
            @include opacity(.25);
            padding-top: 5%;
            position: absolute;
            right: -5%;
            top: 0;
            @include transform(rotateZ(-4deg));
            @include transform-origin(50%, 0);

            @media (min-width: $screen-sm-min) {
                margin-left: -42%;
                margin-right: -2%;
            }

            @media (min-width: $screen-md-min) {
                height: map-get($css, line-height) * 4;
                margin-left: 0;
                margin-right: 0;
            }

            @media (min-width: $screen-lg-min) {
                display: none;
                margin-left: -384px;
                margin-right: -24px;
            }
        }

        &__volume {
            padding-bottom: 100% * (1080 / 1920);
        }
    }

    .b-bg {
        background-color: map-get(map-get($color, flatuicolorsDOTcom), turquoise);
        display: block;
        position: absolute;

        @media (min-width: $screen-xs-min) {
            left: 50%;
            margin-left: -($screen-xs-min * .5);
            width: $screen-xs-min * .5;
        }

        @media (min-width: $screen-sm-min) {
            left: 0;
            margin-left: 0;
            width: auto;
        }

        @media (min-width: $screen-lg-min) {
            height: 100%;
        }

        &__img {
            visibility: hidden;
        }
    }

    .b-bg-gradient {
        display: block;
        overflow: hidden;
        position: absolute;

        &__img {
            background-color: map-get($color, bg);
            bottom: -10%;
            left: -5%;
            right: -5%;
            top: map-get($css, line-height) * 3;
            @include transform(rotateZ(-4deg));
            @include transform-origin(50%, 0);

            @media (min-width: $screen-sm-min) {
                margin-left: -42%;
                margin-right: -2%;
            }

            @media (min-width: $screen-md-min) {
                margin-left: -32%;
                top: map-get($css, line-height) * 4;
            }

            @media (min-width: $screen-lg-min) {
                margin-left: -384px;
                margin-right: -24px;
                top: (map-get($css, line-height) * 5) + 2px;
            }

            @at-root .cssgradients & {
                background-color: transparent;
                @include background-image(linear-gradient(4deg, rgba(map-get($color, bg), 1) 95%, rgba(map-get($color, bg), .75)));
            }
        }
    }

    .b-bg-bottom {
        background-color: map-get($color, bg);
        bottom: 0;
        display: block;
        left: 0;
        margin-top: 100% * (1080 / 1920);
        position: absolute;
        right: 0;
        top: 0;
        z-index: -1;
    }

    .b-body {
        @media (min-width: $screen-sm-min) {
            max-width: none;
            padding-left: 2%;
            padding-right: 42%;
        }

        @media (min-width: $screen-md-min) {
            padding-right: 32%;
        }

        @media (min-width: $screen-lg-min) {
            overflow: visible;
            position: relative;
        }
    }

    .b-rotated {
        &_header {
            @media (min-width: $screen-xs-min) {
                margin-top: -(map-get($css, line-height) * 2);
                padding-top: map-get($css, line-height) * 3;
            }

            @media (min-width: $screen-lg-min) {
                margin-top: 0;
                padding-top: map-get($css, line-height) * 2;
            }

            .b-rotated__bg {
                background-color: map-get($color, bg);
                display: none;

                @media (min-width: $screen-lg-min) {
                    bottom: -(map-get($css, line-height) * 1.5);
                    display: block;
                    left: 20%;
                    @include opacity(.75);
                    @include transform-origin(50%, (map-get($css, line-height) * 1.5));
                }
            }

            .b-rotated__unrotated {
                padding-left: 4.69%;
                padding-right: 4.69%;

                @media (min-width: $screen-md-min) {
                    padding-left: $grid-gutter-width * .5;
                    padding-right: $grid-gutter-width * .5;
                }
            }

            &__h1 {
                @media (min-width: $screen-lg-min) {
                    position: static;
                }
            }

            &__logo {
                float: left;
                margin-right: $grid-gutter-width * (1 / 3);

                @media (min-width: $screen-lg-min) {
                    height: map-get($css, line-height) * 3;
                    margin-bottom: -(map-get($css, line-height));
                }

                &-text {
                    background-color: map-get(map-get($color, flatuicolorsDOTcom), turquoise);
                    @include border-radius(2px);
                    color: map-get($color, highlight);
                    font-size: .5em;
                    font-weight: map-get(map-get(map-get($font, sans), weight), bold);
                    left: 100%;
                    padding: #{map-get($css, line-height) * (1 / 6)} #{$grid-gutter-width * (1 / 6)};
                    position: absolute;
                    text-transform: uppercase;
                    top: map-get($css, line-height) * .5;

                    @media (min-width: $screen-lg-min) {
                        left: 20%;
                        margin-left: $grid-gutter-width;
                    }
                }
            }
        }
    }
}

.b-rotated_nav {
    @media (min-width: $screen-xs-min) {
        margin-top: map-get($css, line-height) + 2px;
    }

    @media (min-width: $screen-md-min) {
        float: left;
        margin-right: -16.97%;
        margin-top: map-get($css, line-height) * 2;
        @include transform(rotateZ(0deg));
        width: 16.97%;
        z-index: 1;
    }

    .b-rotated__bg_split {
        @media (min-width: $screen-md-min) {
            display: none;
        }

        td {
            background-color: map-get($color, highlight);

            @media (min-width: $screen-sm-min) {
                @include opacity(0);
            }

            &.visible-sm {
                @media (min-width: $screen-xs-min) and (max-width: $screen-sm-max) {
                    display: table-cell !important;
                }
            }

            &.hidden-sm {
                @media (min-width: $screen-xs-min) and (max-width: $screen-sm-max) {
                    display: none !important;
                }
            }
        }
    }

    .b-rotated__unrotated {
        @media (min-width: $screen-md-min) {
            padding-left: 0;
            padding-right: 0;
            @include transform(rotateZ(0deg));
        }
    }

    &__a {
        color: map-get($color, brown);
        display: block;
        padding-bottom: map-get($css, line-height);
        padding-top: map-get($css, line-height);
        text-align: center;

        @media (min-width: $screen-sm-min) {
            font-weight: map-get(map-get(map-get($font, sans), weight), bold);
        }

        @media (min-width: $screen-md-min) {
            @include border-radius(2px);
            padding-left: $grid-gutter-width * (2 / 3);
            padding-right: $grid-gutter-width * (2 / 3);
            text-align: left;
        }

        &-container {
            &.col-sm-2 {
                @media (min-width: $screen-xs-min) and (max-width: $screen-sm-max) {
                    width: 100% * (1 / 6);
                }

                @media (min-width: $screen-md-min) {
                    display: block;
                    float: none;
                    width: auto;
                }
            }
        }
    }

    .hidden-sm {
        @media (min-width: $screen-xs-min) and (max-width: $screen-sm-max) {
            display: none;
        }
    }
}

/*
.b-rotated_thumbnail {
    margin-left: -$grid-gutter-width;
    margin-right: -$grid-gutter-width;
    padding-left: $grid-gutter-width;
    padding-right: $grid-gutter-width;

    .b-rotated__bg {
        display: none;
    }

    .b-rotated__unrotated {
        padding-left: 0;
        padding-right: 0;

        @media (min-width: $screen-md-min) {
            padding-left: 20%;
        }
    }

    .b-post__thumbnail {
        display: block;
        margin-bottom: -(map-get($css, line-height) + 8px);
        margin-top: -(map-get($css, line-height) + 6px);
        width: 100%;
    }
}
*/

.b-rotated_category {
    .b-rotated__bg {
        @media (min-width: $screen-md-min) {
            left: 20%;
        }
    }

    .b-rotated__unrotated {
        @media (min-width: $screen-md-min) {
            margin-left: 20%;
        }
    }

    p {
        font-size: 1.25em;
        line-height: 1.25;
        text-align: center;
    }
}

.b-rotated_posts-top {
    z-index: -1;

    @media (min-width: $screen-xs-min) {
        margin-top: map-get($css, line-height) + 2px;
    }

    @media (min-width: $screen-sm-min) {
        margin-top: 2px;
    }

    @media (min-width: $screen-md-min) {
        @include transform-origin(50%, map-get($css, line-height) * 2);
    }

    .b-rotated__bg {
        @media (min-width: $screen-md-min) {
            left: 20%;
        }
    }

    .b-rotated__unrotated {
        height: map-get($css, line-height) * 2;
    }
}

.b-posts {
    margin-top: -(map-get($css, line-height) * 2);

    @media (min-width: $screen-md-min) {
        margin-left: 20%;
    }
}

.b-post {
    background-color: map-get($color, white);
    margin-top: 2px;
    padding: #{(map-get($css, line-height) * 1.5) - 2px} #{$grid-gutter-width * .5} #{map-get($css, line-height) * 2};
    padding-left: 4.69%;
    padding-right: 4.69%;

    @media (min-width: $screen-lg-min) {
        @include border-radius(2px);
        padding-left: $grid-gutter-width;
        padding-right: $grid-gutter-width;
    }

    &:first-child {
        margin-top: 0;
        padding-top: map-get($css, line-height);
    }

    &__title {
        //font-family: map-get(map-get($font, serif), family);
        font-size: 1.75em;
        font-weight: map-get(map-get(map-get($font, sans), weight), normal);
        line-height: 1.25;
        margin-top: 0;

        @media (min-width: $screen-sm-min) {
            font-size: 2em;
        }

        @media (min-width: $screen-md-min) {
            font-size: 2.25em;
            font-weight: map-get(map-get(map-get($font, sans), weight), lighter);
        }

        @media (min-width: $screen-lg-min) {
            font-size: 2.5em;
        }
    }

    &__a-title {
        color: map-get(map-get($color, flatuicolorsDOTcom), turquoise);
    }

    &__time,
    &__author {
        color: map-get(map-get($color, flatuicolorsDOTcom), concrete);
    }

    &__time {
        @at-root .b-site_blog_is-single & {
            @media (min-width: $screen-md-min) {
                margin-left: $grid-gutter-width * .5;
            }
        }
    }

    &__content {
        margin-bottom: map-get($css, line-height);

        h2, p {
            margin-bottom: 0;
        }
    }

    &__comment {
        margin-left: $grid-gutter-width * .5;
    }

    &_has-thumbnail#{&}_default,
    &_has-thumbnail#{&}_image,
    &_has-thumbnail#{&}_gallery {
        @media (min-width: $screen-lg-min) {
            background-color: transparent;
            @include border-radius(0);
            @include clearfix;
            padding: 0;
            position: relative;
        }

        .b-post__right-bg {
            display: none;

            @media (min-width: $screen-lg-min) {
                background-color: map-get($color, white);
                @include border-bottom-radius(2px);
                @include border-top-right-radius(2px);
                bottom: 0;
                display: block;
                left: 50%;
                position: absolute;
                right: 0;
                top: 0;
            }
        }

        .b-post__left,
        .b-post__right {
            @media (min-width: $screen-lg-min) {
                width: 50%;
            }
        }

        .b-post__left {
            @media (min-width: $screen-lg-min) {
                background-color: map-get($color, white);
                clear: left;
                float: left;
            }

            &_1 {
                @media (min-width: $screen-lg-min) {
                    @include border-top-left-radius(2px);
                    padding-top: (map-get($css, line-height) * 1.5) - 2px;
                }
            }

            &_2 {
                @media (min-width: $screen-lg-min) {
                    @include border-bottom-left-radius(2px);
                    padding-bottom: map-get($css, line-height) * 2;
                }
            }

            &-inner {
                @media (min-width: $screen-lg-min) {
                    margin-left: $grid-gutter-width;
                    margin-right: $grid-gutter-width * .5;
                }
            }
        }

        .b-post__right {
            @media (min-width: $screen-lg-min) {
                float: right;
                padding-bottom: map-get($css, line-height) * 2;
                padding-top: (map-get($css, line-height) * 1.5) - 2px;
                position: relative;
                text-align: center;
            }
        }

        &:first-child {
            @media (min-width: $screen-lg-min) {
                padding-top: 0;
            }

            .b-post__left_1,
            .b-post__right {
                @media (min-width: $screen-lg-min) {
                    padding-top: map-get($css, line-height);
                }
            }
        }

        .b-post__a-thumbnail {
            display: block;
            margin-top: map-get($css, line-height);

            @media (min-width: $screen-lg-min) {
                margin-left: $grid-gutter-width * .5;
                margin-right: $grid-gutter-width;
                margin-top: 0;
            }
        }

        .b-post__thumbnail {
            display: block;
            height: auto;
            margin-left: auto;
            margin-right: auto;
            max-width: 100%;

            @media (min-width: $screen-lg-min) {
                max-height: 330px;
            }
        }
    }

    &_has-thumbnail#{&}_video {
        .b-post__right {
            display: none;
        }
    }

    @at-root .b-site_blog_is-single &__thumbnail {
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top: map-get($css, line-height);
        max-width: 100%;
    }

    @at-root .b-site_blog_is-single &_video &__thumbnail {
        display: none;
    }
}
