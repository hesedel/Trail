@import 'vendor/bootstrap/variables';
@import 'compass';
@import 'vars';

.b-site_index {
    &__section-group {
        @at-root .lt-ie9 & {
            @media (min-width: $screen-xs-min) {
                @include clearfix;
                margin-top: 1px;
                position: relative;
            }

            @media (min-width: $screen-sm-min + ($grid-gutter-width * 2)) {
                margin-top: map-get($css, line-height) * 2;
            }
        }
    }

    &__section {
        &_isolated {
            @at-root .lt-ie9 & {
                @media (min-width: $screen-sm-min + ($grid-gutter-width * 2)) {
                    @include border-radius($border-radius-large);
                    margin-top: map-get($css, line-height);
                    padding-top: map-get($css, line-height);
                }
            }
        }
    }

    &__heading {
        background-color: map-get($color, green);
        @include border-radius($border-radius-small);
        color: map-get($color, white);
        display: inline-block;
        padding: #{map-get($css, line-height) * .5} #{$grid-gutter-width * .5};
    }
}

.b-description {
    @at-root .lt-ie9 & {
        @media (min-width: $screen-xs-min) {
            float: right;
            margin-left: 50%;
            padding-top: map-get($css, line-height) - 1px;
        }

        @media (min-width: $screen-sm-min) {
            padding-left: $grid-gutter-width * .5;
            padding-right: $grid-gutter-width * .5;
        }

        @media (min-width: $screen-sm-min + ($grid-gutter-width * 2)) {
            @include border-top-right-radius($border-radius-large);
            padding-top: map-get($css, line-height);
        }
    }

    &__h2 {
        @at-root .lt-ie9 & {
            @media (min-width: $screen-xs-min) {
                font-size: 1.5em;
            }

            @media (min-width: $screen-sm-min) {
                font-size: 1.75em;
                text-align: left;
            }
        }

        &.container {
            @at-root .lt-ie9 & {
                @media (min-width: $screen-xs-min) {
                    width: auto;
                }
            }
        }
    }
}

.b-randomImage {
    @at-root .lt-ie9 & {
        @media (min-width: $screen-xs-min) {
            bottom: 0;
            left: 0;
            overflow: hidden;
            position: absolute;
            right: 50%;
            top: 0;
        }
    }

    &__img {
        @at-root .lt-ie9 & {
            @media (min-width: $screen-xs-min) {
                height: 100%;
                @include transform(translateX(-15%));
                width: auto;
            }

            @media (min-width: $screen-sm-min) {
                @include transform(none);
            }

            @media (min-width: $screen-sm-min + ($grid-gutter-width * 2)) {
                @include border-left-radius($border-radius-large);
            }
        }
    }
}

.b-about {
    @at-root .lt-ie9 & {
        @media (min-width: $screen-xs-min) {
            float: right;
            margin-left: 50%;
        }

        @media (min-width: $screen-sm-min) {
            padding-left: $grid-gutter-width * .5;
            padding-right: $grid-gutter-width * .5;
        }

        @media (min-width: $screen-sm-min + ($grid-gutter-width * 2)) {
            @include border-bottom-right-radius($border-radius-large);
        }
    }

    .container {
        @at-root .lt-ie9 & {
            @media (min-width: $screen-xs-min) {
                width: auto;
            }
        }
    }
}

.b-events {
    padding-bottom: map-get($css, line-height);

    &__event {
        @include clearfix;

        @media (min-width: $screen-xs-min) {
            float: left;
            width: 50%;
        }

        &-img {
            float: right;
            width: 40%;
            margin-bottom: map-get($css, line-height);
            margin-left: $grid-gutter-width * .5;
            max-width: 138px;
        }

        &-title {
            margin-top: 0;
        }

        &-description {}
    }
}

.b-contact {
    @media (min-width: $screen-xs-min) {
        overflow: hidden;
    }

    &__facebook {
        text-align: center;

        &-a {
            text-align: left;
        }

        &-icon {
            display: inline-block;
            width: $grid-gutter-width * .75;
        }
    }

    &__tabs {
        border-bottom-color: map-get($color, lighter-brown);
        margin-left: -($grid-gutter-width * .5);
        margin-right: -($grid-gutter-width * .5);
        padding-left: $grid-gutter-width * .5;
        padding-right: $grid-gutter-width * .5;

        @media (min-width: $screen-xs-min) {
            margin-left: -$grid-gutter-width;
            margin-right: -$grid-gutter-width;
            padding-left: $grid-gutter-width;
            padding-right: $grid-gutter-width;
        }

        li {
            a:hover {
                background-color: map-get($color, light-brown);
                border-bottom-color: map-get($color, lighter-brown);
                border-left-color: map-get($color, light-brown);
                border-right-color: map-get($color, light-brown);
                border-top-color: map-get($color, light-brown);
                color: map-get($color, brown);
            }

            &.active {
                a, a:hover, a:focus {
                    background-color: map-get($color, lighter-brown);
                    border-left-color: map-get($color, lighter-brown);
                    border-right-color: map-get($color, lighter-brown);
                    border-top-color: map-get($color, lighter-brown);
                    color: map-get($color, brown);
                }
            }
        }
    }

    &__tab-content {
        background-color: map-get($color, lighter-brown);
        margin-left: -($grid-gutter-width * .5);
        margin-right: -($grid-gutter-width * .5);
        overflow: hidden;
        padding-left: $grid-gutter-width * .5;
        padding-right: $grid-gutter-width * .5;
        padding-top: map-get($css, line-height) * .5;

        @media (min-width: $screen-xs-min) {
            margin-left: -$grid-gutter-width;
            margin-right: -$grid-gutter-width;
            padding-left: $grid-gutter-width;
            padding-right: $grid-gutter-width;
        }
    }

    &__tab-pane {
        &-title {
            color: map-get($color, brown);
            margin-bottom: 0;
            text-align: center;
        }

        &-info {
            display: inline-block;

            &-icon {
                color: map-get($color, green);
                display: inline-block;
                width: $grid-gutter-width * .75;
            }
        }
    }
}

@mixin map($office: 'pccc', $scale: 1) {

    // center PCCC office
    $center: '14.63635,121.03662';
    @if ($office == 'igsl') {
        // center IGSL office
        $center: '14.6877,121.0334';
    }
    @if ($office == 'davao') {
        // center Davao office
        $center: '7.05674,125.59451';
    }

    background-image: url('http://maps.googleapis.com/maps/api/staticmap?' +

        // center
        'center=' + $center +

        '&' +

        // zoom
        //'zoom=17' +
        'zoom=16' +

        '&' +

        // size
        'size=720x480' +

        '&' +

        // scale
        'scale=' + $scale +

        //'&style=feature:administrative|element:labels.text.fill|' +

        // administrative labels text fill color
        //'color:' + color-hex(map-get($color, lighter-brown)) +

        //'&style=feature:administrative|element:labels.text.stroke|' +

        // administrative labels text stroke color
        //'color:' + color-hex(map-get($color, white)) +

        '&style=feature:landscape.man_made|element:geometry.fill|' +

        // landscape man-made geometry fill color
        'color:' + color-hex(map-get($color, lighter-brown)) +

        //'&style=feature:poi|element:geometry|' +

        // poi geometry color
        //'color:' + color-hex(whiten(mix(map-get(map-get($color, flatuicolorsDOTcom), emerald), map-get(map-get($color, flatuicolorsDOTcom), alizarin), 25%), 25%, 8)) +

        //'&style=feature:poi.park|element:geometry|' +

        // poi park geometry color
        //'color:' + color-hex(whiten(map-get(map-get($color, flatuicolorsDOTcom), turquoise), 25%, 8)) +

        //'&style=feature:poi|element:labels|' +

        // poi labels visibility
        //'visibility:on' +

        //'&style=feature:road|element:geometry.fill|' +

        // road geometry fill color
        //'color:' + color-hex(map-get($color, highlight)) +

        //'&style=feature:road|element:geometry.stroke|' +

        // road geometry stroke color
        //'color:' + color-hex(map-get($color, highlight)) +

        //'&style=feature:road.local|element:geometry.fill|' +

        // road local geometry fill color
        //'color:' + color-hex(map-get($color, highlight)) +

        //'&style=feature:road|element:labels|' +

        // road labels visibility
        //'visibility:on' +

        '&style=feature:road|element:labels.text.fill|' +

        // road labels  text fill color
        'color:' + color-hex(map-get($color, brown)) +

        //'&style=feature:transit|' +

        // transit visibility
        //'visibility:off' +

        '&style=feature:water|' +

        // water color
        'color:' + color-hex(map-get($color, blue))
    );
}

.b-map {
    background-position: center;
    background-repeat: no-repeat;
    @include background-size(175%);
    margin-left: -($grid-gutter-width * .5);
    margin-right: -($grid-gutter-width * .5);
    position: relative;

    @media (min-width: $screen-xs-min) {
        @include background-size(100%);
        margin-left: -$grid-gutter-width;
        margin-right: -$grid-gutter-width;
    }

    &:before {
        background-image: linear-gradient(rgba(map-get($color, lighter-brown), 1), rgba(map-get($color, lighter-brown), 0));
        content: '';
        height: 25%;
        left: 0;
        position: absolute;
        right: 0;
    }

    &--pccc {
        @include map('pccc');
    }

    &--igsl {
        @include map('igsl');
    }

    &--davao {
        @include map('davao');
    }

    @at-root .backgroundsize & {
        &--pccc {
            @include map('pccc', 2);
        }

        &--igsl {
            @include map('igsl', 2);
        }

        &--davao {
            @include map('davao', 2);
        }
    }

    &__before {
        padding-top: 100% * (480 / 720);

        @media (min-width: $screen-xs-min) {
            padding-top: 100% * (360 / 720);
        }
    }

    &__marker {
        bottom: 50%;
        color: map-get($color, green);
        font-size: 3em;
        left: 50%;
        margin-left: -($grid-gutter-width * .5);
        position: absolute;
        text-align: center;
        @include text-shadow(0 0 1px white);
        width: $grid-gutter-width;
    }
}
